<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta http-equiv="x-ua-compatible" content="ie=edge" />

		<title>Web Xplore</title>
		<link rel="shortcut icon" href="assets/images/logo/logo_webXplore_nobg.svg" />

		<!-- Framework - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" />

		<!-- Icon Font - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/fontawesome.css" />

		<!-- Animation - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/animate.css" />

		<!-- Cursor - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/cursor.css" />

		<!-- Carousel - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/slick.css" />
		<link rel="stylesheet" type="text/css" href="assets/css/slick-theme.css" />

		<!-- Video & Image Popup - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/magnific-popup.css" />

		<!-- Vanilla Calendar - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/vanilla-calendar.min.css" />

		<!-- Custom - CSS Include -->
		<link rel="stylesheet" type="text/css" href="assets/css/style.css" />

		<script>
			const token = localStorage.getItem("token");
			if(token != null) {
				window.location.href = "indexlogin.html";
			}
		</script>
	</head>

	<body>
		<!-- Body Wrap - Start -->
		<div class="page_wrapper">
			<!-- Back To Top - Start -->
			<div class="backtotop">
				<a href="#" class="scroll">
					<i class="far fa-arrow-up"></i>
				</a>
			</div>
			<!-- Back To Top - End -->

			<!-- Site Header - Start
      ================================================== -->
	  <header class="site_header site_header_1 ">
		<div class="container">
			<div class="row align-items-center justify-content-between">
				<div class="col col-lg-3 col-5">
					<div class="site_logo">
						<a class="site_link" href="index.html">
							<img src="assets/images/logo/logo_webXplore_nobg.svg" alt="Collab - Online Learning Platform" />
						</a>
					</div>
				</div>
				<div class="col col-lg-3 col-5">
					<ul class="header_btns_group unordered_list_end">
						<li>
							<button class="mobile_menu_btn" type="button" data-bs-toggle="collapse" data-bs-target="#main_menu_dropdown" aria-controls="main_menu_dropdown" aria-expanded="false" aria-label="Toggle navigation">
							</button>
						</li>
						<li>
							<a class="btn" href="login.html">
								<span>
									<small>Login</small>
									<small>Login</small>
								</span>
							</a>
						</li>
						<li>
							<a class="btn btn-light" href="signup.html" style="color: #F05D0D;" >
								<span>
									<small>Sign Up</small>
									<small style="color: #F05D0D;">Sign Up</small>
								</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</header>
			<!-- Site Header - End
      ================================================== -->

			<!-- Main Body - Start
      ================================================== -->
			<main class="page_content">
				<!-- Register Section - Start
        ================================================== -->
				<section class="register_section section_space_lg">
					<div class="container">
						<div class="row justify-content-center">
							<div class="col col-lg-5">
								<h1 class="register_heading text-center">Create Account</h1>
								<p class="register_heading_description text-center">Already have account? <a href="login.html">Login</a></p>
								<form action="#" id="form" >
									<div class="register_form signup_login_form">
										<div class="form_item">
											<input type="email" name="email" placeholder="Email" id="email" />
										</div>
										<div class="form_item">
											<input type="text" name="name" placeholder="Full Name" id="fullname"/>
										</div>
										<div class="form_item">
											<input type="password" name="createpassword" placeholder="Create Password" id="pass" />
										</div>
										<div class="form_item">
											<input type="password" name="confirmpassword" placeholder="Confirm Password" id="confirmpass"/>
										</div>
										<p id="text-error"></p>
										<button type="submit" class="btn btn_dark mb-5">
											<span>
												<small>Signup Now</small>
												<small>Signup Now</small>
											</span>
										</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</section>
				<!-- Register Section - End
        ================================================== -->
			</main>
			<!-- Main Body - End
      ================================================== -->

			<!-- Site Footer - Start
      ================================================== -->
			<footer class="site_footer">
				<div class="copyright_widget">
					<div class="container">
						<p class="copyright_text text-center mb-0 text-white-100"> Â© <b>Web Xplore</b> All Rights Reserved Copyrights 2023</p>
					</div>
				</div>
			</footer>
			<!-- Site Footer - End
      ================================================== -->
		</div>
		<!-- Body Wrap - End -->

		<!-- Framework - Jquery Include -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/popper.min.js"></script>
		<script src="assets/js/bootstrap.min.js"></script>
		<script src="assets/js/bootstrap-dropdown-ml-hack.js"></script>

		<!-- animation - jquery include -->
		<script src="assets/js/cursor.js"></script>
		<script src="assets/js/wow.min.js"></script>
		<script src="assets/js/tilt.min.js"></script>
		<script src="assets/js/parallax.min.js"></script>
		<script src="assets/js/parallax-scroll.js"></script>

		<!-- Carousel - Jquery Include -->
		<script src="assets/js/slick.min.js"></script>

		<!-- Video & Image Popup - Jquery Include -->
		<script src="assets/js/magnific-popup.min.js"></script>

		<!-- Counter Up - Jquery Include -->
		<script src="assets/js/waypoint.js"></script>
		<script src="assets/js/counterup.min.js"></script>

		<!-- Countdown Timer - jquery include -->
		<script src="assets/js/countdown.js"></script>

		<!-- Vanilla Calendar - Jquery Include -->
		<script src="assets/js/vanilla-calendar.min.js"></script>

		<!-- Custom - Jquery Include -->
		<script src="assets/js/main.js"></script>

		<script>
			// const url = 'http://localhost:3000/login'
			const url = 'https://htmlcssbattle.vercel.app/register'
			const form = document.getElementById("form");
			form.addEventListener("submit", (e)=>{
				e.preventDefault();
				const email = document.getElementById("email").value;
				const username = document.getElementById("fullname").value;
				const password = document.getElementById("pass").value;
				const conpass = document.getElementById("confirmpass").value;
				const error = document.getElementById("text-error");

				if(conpass !== password){
					error.innerHTML = "Password tidak sama";
					return;
				}
				fetch(url,{
					method: "POST",
					headers: {
						Accept: "application/json, text/plain, */*",
						"Content-Type": "application/json",
					},
					body: JSON.stringify({
						username,
						email,
						password
					}),
				}).then((res)=>{
					console.log(res)
					return res.json()
				})
				.then(async(res)=>{
					await localStorage.setItem(
						"token",
						res.token
					);
					window.location.href = "indexlogin.html";
				}).catch((e)=>{
					console.log(e)
				})
			})
		</script>
	</body>
</html>
